import e from"fs";const t=RegExp(`/\\*\\s*__atomic_generated:([^*]+)\\s*\\*/`,`g`);var n=class{extractedClasses=new Set;debug=!1;filePath;constructor(e={}){this.debug&&=e.debug,this.filePath=e.filePath}log(...e){this.debug&&console.log(...e)}apply(n){n.hooks.emit.tapAsync(`AtomicVariantsPlugin`,(e,n)=>{for(let n of e.modules){let e=n._source;if(e&&typeof e.source==`function`){let n=String(e.source());t.lastIndex=0;let r=t.exec(n);r&&this.extractedClasses.add((r?.[1]||``).trim())}}n()}),n.hooks.done.tap(`AtomicVariantsPlugin`,t=>{this.extractedClasses.size>0?(this.log(`
ðŸŽ¨ TOTAL Found atomic classes:`,Array.from(this.extractedClasses)),this.filePath&&e.writeFileSync(this.filePath,`@source inline("${Array.from(this.extractedClasses).join(` `)}");`)):this.log(`
ðŸŽ¨ No atomic classes found in build`)})}};export{n as default};
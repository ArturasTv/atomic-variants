var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},s=(n,r,a)=>(a=n==null?{}:e(i(n)),o(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));let c=require(`@swc/core`);c=s(c);let l=require(`fs`);l=s(l);let u=require(`path`);u=s(u);let d=require(`url`);d=s(d);let f=require(`module`);f=s(f);const p=`__atomic_generated`,m=RegExp(`/\\*\\s*${p}:([^*]+)\\s*\\*/`,`g`),h=(0,f.createRequire)(require(`url`).pathToFileURL(__filename).href).resolve;function g(){let e=new Set,t;return{name:`vite-plugin`,configResolved(e){t=e.cacheDir},async transform(n,r){if(!/\.(t|j)sx?$/.test(r))return null;let i=r.endsWith(`.ts`)||r.endsWith(`.tsx`),a=r.endsWith(`.tsx`),o=await(0,c.transform)(n,{filename:r,swcrc:!1,sourceMaps:!1,configFile:!1,jsc:{parser:{syntax:i?`typescript`:`ecmascript`,tsx:a},target:`es2022`,experimental:{plugins:[[h(`@atomic-variants/swc-plugin`),{tag:p}]],cacheRoot:u.default.join(t??`node_modules/.vite`,`.swc`)}}});m.lastIndex=0;let s=m.exec(o.code);return s&&(e.add((s?.[1]||``).trim()),_(e)),{code:o.code,map:o.map}},buildEnd(){_(e)}}}const _=e=>{if(e.size>0){let t=u.default.dirname((0,d.fileURLToPath)(require(`url`).pathToFileURL(__filename).href));l.default.writeFileSync(u.default.resolve(t,`../atomic-variants.css`),`@source inline("${Array.from(e).join(` `)}");`)}};module.exports=g;